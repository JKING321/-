<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>家的味道 · 自定义抽签</title>
<style>
body {
  font-family:'PingFang SC','Microsoft YaHei',sans-serif;
  background: linear-gradient(135deg,#ff6b6b,#ffd93d,#ffb347,#fff5e6);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  height:100vh; text-align:center; overflow:hidden; color:#fff;
}
h1 { font-size:3rem; text-shadow:2px 2px 10px rgba(0,0,0,0.3); margin-bottom:20px;}
textarea { width:300px; height:120px; border-radius:10px; padding:10px; font-size:1rem; margin-top:20px; }
#drawBtn {
  margin-top:20px; padding:18px 50px; font-size:1.3rem;
  background:linear-gradient(45deg,#ff4b4b,#ff914d); border:none; border-radius:50px;
  cursor:pointer; box-shadow:0 8px 15px rgba(0,0,0,0.3); color:#fff; transition: all 0.3s;
}
#drawBtn:hover { transform: scale(1.05); box-shadow:0 12px 20px rgba(0,0,0,0.4);}
#result { font-size:2rem; padding:20px 40px; border-radius:20px;
 background: rgba(255,255,255,0.3); backdrop-filter: blur(5px); margin-top:20px; min-width:250px;
 transition: all 0.5s; transform: scale(1); color:#ff3b3b;}
#tip { margin-top:15px; font-size:1rem; opacity:0.9; transition: opacity 1s;}
footer { position:absolute; bottom:15px; font-size:0.9rem; color:rgba(255,255,255,0.8);}
</style>
</head>
<body>

<h1>家的味道 · 自定义抽签</h1>
<textarea id="options" placeholder="请输入选项，每行一个，例如：红烧肉配米饭&#10;清蒸鱼&#10;麻辣火锅"></textarea>
<button id="drawBtn">抽一签</button>
<div id="result">等待抽签...</div>
<div id="tip">家，是最温暖的港湾</div>
<footer>温馨提示：再忙都要好好吃饭 ❤️</footer>

<script>
// 倒数语音
const speech = text => {
  const u = new SpeechSynthesisUtterance(text);
  u.lang = 'zh-CN';
  speechSynthesis.speak(u);
}

// 温暖文案
const tips = [
  "再忙都要好好吃饭",
  "家，是最温暖的港湾",
  "每一口都是家的味道",
  "慢慢享受温暖时光",
  "今天也要开心用餐"
]

const result = document.getElementById('result');
const btn = document.getElementById('drawBtn');
const optionsTextarea = document.getElementById('options');
const tipDiv = document.getElementById('tip');

// 光点特效
const createParticle = () => {
  const particle=document.createElement('div');
  particle.style.position='absolute';
  particle.style.borderRadius='50%';
  particle.style.opacity=0.7;
  particle.style.width=particle.style.height=Math.random()*10+5+'px';
  particle.style.background=`rgba(255,${Math.floor(Math.random()*200+55)},0,0.7)`;
  particle.style.left=Math.random()*window.innerWidth+'px';
  particle.style.top=window.innerHeight+'px';
  particle.style.pointerEvents='none';
  particle.style.animation='rise 4s ease-in';
  document.body.appendChild(particle);
  setTimeout(()=>particle.remove(),4000);
}

// 动画关键帧
const style=document.createElement('style');
style.innerHTML=`@keyframes rise {0% {transform: translateY(0) scale(0.5);}50% {opacity:1;}100% {transform: translateY(-200px) scale(0.8); opacity:0;}}`;
document.head.appendChild(style);

// 抽签逻辑
btn.addEventListener('click', async () => {
  const options = optionsTextarea.value.split('\n').filter(o=>o.trim()!=='');
  if(options.length===0){ alert('请先输入至少一个选项！'); return; }

  result.innerText = "准备中...";
  result.style.transform = "scale(1.2)";

  // 倒数语音3秒
  for(let i=3;i>0;i--){
    speech(i.toString());
    result.innerText=i;
    await new Promise(r=>setTimeout(r,1000));
    createParticle();
  }

  // 随机选项
  const idx = Math.floor(Math.random()*options.length);
  result.innerText = options[idx];
  result.style.transform = "scale(1.3)";
  result.style.color="#ff6b00";
  setTimeout(()=> result.style.transform="scale(1)",500);

  // 随机温暖文案
  const tipIdx = Math.floor(Math.random()*tips.length);
  tipDiv.innerText = tips[tipIdx];
});
</script>
</body>
</html>
